{% extends "content.html" %}

{% block content %}
    {% if message %}
        <div class="alert alert-primary" role="alert">
            A simple primary alertâ€”check it out!
        </div>
    {% endif%}
    
    {% if articles %}
    <h1>Article list</h1>
    <table class="table table-dark">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">Publication Date</th>
            <th scope="col">Reporter</th>
            <th scope="col">Magazine</th>
            <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for article in articles %}
        <tr>
            <th scope="row">{{article.id}}</th>
            <td>{{article.title}}</td>
            <td>{{article.pub_date|date:"d/M/Y H:i"}}</td>
            <td>{{article.reporter}}</td>
            <td>{{article.magazines.all|join:", "}}</td>
            <td>
                <a class="btn btn-primary" href="{% url 'meuapp:article_read' article.id %}" role="button">
                    <span class="text-light text-center">
                        <i class="fas fa-eye"></i>
                    </span>
                </a>
                <a class="btn btn-warning" href="{% url 'meuapp:article_update' article.id %}" role="button">
                    <span class="text-light text-center">
                        <i class="far fa-edit"></i>
                    </span>
                </a>
                <a class="btn btn-danger" href="{% url 'meuapp:article_delete' article.id %}" role="button">
                    <span class="text-light text-center">
                        <i class="far fa-trash-alt"></i>
                    </span>
                </a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    <a class="btn btn-success" href="{% url 'meuapp:article_create' %}" role="button">
        <span class="text-light text-center">
            + Add a new Article
        </span>
    </a>
    {% else %}
        <h2>No articles to show</h2>
    {% endif %}
{% endblock %}